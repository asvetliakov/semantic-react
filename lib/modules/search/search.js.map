{"version":3,"sources":["../../../src/components/modules/search/search.jsx"],"names":[],"mappings":"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","file":"search.js","sourcesContent":["import React from 'react';\nimport Transition from 'react-motion-ui-pack';\nimport classNames from 'classnames';\nimport Icon from './../../elements/icon/icon';\nimport Results from './results';\n\n/*\n3 support results types:\n\n{\n    title: 'test',\n    description: 'testing'\n}\n\n{\n    animal: ['cat', 'dog']\n}\n\n['test', 'test']\n*/\nexport default class Search extends React.Component {\n    static propTypes = {\n        children: React.PropTypes.node,\n        className: React.PropTypes.any,\n        component: React.PropTypes.oneOfType([\n            React.PropTypes.func,\n            React.PropTypes.string\n        ]),\n        defaultClasses: React.PropTypes.bool,\n        emptyHeader: React.PropTypes.string,\n        emptyMessage: React.PropTypes.string,\n        enterAnimation: React.PropTypes.object,\n        icon: React.PropTypes.oneOfType([\n            React.PropTypes.string,\n            React.PropTypes.bool\n        ]),\n        leaveAnimation: React.PropTypes.object,\n        loading: React.PropTypes.bool,\n        onChange: React.PropTypes.func.isRequired,\n        onSearchClick: React.PropTypes.func,\n        placeholder: React.PropTypes.string,\n        results: React.PropTypes.oneOfType([\n            React.PropTypes.array,\n            React.PropTypes.object\n        ]),\n        value: React.PropTypes.string\n    };\n\n    static defaultProps = {\n        component: 'div',\n        defaultClasses: true,\n        enterAnimation: {\n            opacity: 1,\n            scale: 1\n        },\n        leaveAnimation: {\n            opacity: 0,\n            scale: 0\n        },\n        icon: 'search',\n        onSearchClick: function noop() {},\n        placeholder: 'Search...',\n        value: ''\n    };\n\n    /* eslint-disable */\n    static Components = {\n        Results: Results,\n        Icon: Icon\n    };\n    /* eslint-enable */\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            focus: false\n        };\n    }\n\n    onBlur = () => {\n        if (this.state.focus) {\n            this.setState({\n                focus: false\n            });\n        }\n    }\n\n    onChange = (e) => {\n        this.props.onChange(e);\n    }\n\n    onFocus = () => {\n        this.setState({\n            focus: true\n        });\n    }\n\n    onSearchClick = (e, child) => {\n        this.props.onSearchClick(e, child);\n    }\n\n    renderInput() {\n        return (\n            <div className={this.getClassesInput()}\n                 key=\"searchInput\"\n            >\n                <input className=\"prompt\"\n                    onBlur={this.onBlur}\n                    onChange={this.onChange}\n                    onFocus={this.onFocus}\n                    placeholder={this.props.placeholder}\n                    type=\"text\"\n                    value={this.props.value}/>\n                {this.renderInputIcon()}\n            </div>\n        );\n    }\n\n    renderInputIcon() {\n        if (!this.props.icon) return null;\n\n        return <Search.Components.Icon name={this.props.icon} />;\n    }\n\n    renderResults() {\n        let props = {\n            key: 'searchResults',\n            animate: this.state.focus && this.props.value !== '',\n            emptyHeader: this.props.emptyHeader,\n            emptyMessage: this.props.emptyMessage,\n            onSearchClick: this.onSearchClick,\n            results: this.state.focus ? this.props.results : [],\n            search: this.props.value || ''\n        };\n\n        return (\n            <Transition\n                key=\"transition\"\n                component={false}\n                enter={this.props.enterAnimation}\n                leave={this.props.leaveAnimation}\n            >\n                {(this.state.focus && this.props.value !== '') &&\n                    <Search.Components.Results {...props}/>\n                }\n            </Transition>\n        );\n    }\n\n    render() {\n        /* eslint-disable no-use-before-define */\n        let { children, className, component, defaultClasses, emptyHeader,\n              emptyMessage, enterAnimation, icon, leaveAnimation, loading,\n              onChange, onSearchClick, placeholder, results,\n              ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n\n        other.className = classNames(this.props.className, this.getClasses());\n\n        return React.createElement(\n            this.props.component,\n            other,\n            [\n                this.renderInput(),\n                this.renderResults()\n            ]\n        );\n    }\n\n    getClassesInput() {\n        return classNames('ui input', {\n            icon: Boolean(this.props.icon)\n        });\n    }\n\n    getClasses() {\n        return {\n            ui: this.props.defaultClasses,\n            search: this.props.defaultClasses,\n            \n            loading: this.props.loading,\n            focus: this.state.focus,\n            \n            category: !Array.isArray(this.props.results)\n        };\n    }\n\n}\n"]}